<!-- Language Switcher -->
{% if page.ref and page.lang %}
<div class="language-switcher">
  {% assign pages = site.pages | where: "ref", page.ref %}
  {% assign posts = site.posts | where: "ref", page.ref %}
  {% assign all_translations = pages | concat: posts %}
  
  {% for p in all_translations %}
    {% if p.lang and p.lang != page.lang %}
      <a href="{{ p.url | relative_url }}" class="lang-link">{{ p.lang | upcase }}</a>
    {% endif %}
  {% endfor %}
</div>
{% endif %}

<style>
.language-switcher {
  position: absolute;
  top: 15px;
  right: 15px;
  z-index: 100;
}

.lang-link {
  padding: 5px 10px;
  background-color: #f0f0f0;
  border-radius: 4px;
  text-decoration: none;
  color: #333;
  font-size: 14px;
  font-weight: bold;
  transition: background-color 0.2s;
}

.lang-link:hover {
  background-color: #e0e0e0;
}

/* Move it below header on mobile */
@media screen and (max-width: 600px) {
  .language-switcher {
    position: relative;
    top: 0;
    right: 0;
    text-align: right;
    padding: 10px;
  }
}
</style>
